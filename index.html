<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Urban Archive</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { font-family: -apple-system, sans-serif; padding: 20px; background: #f5f5f5; }
    .card { background: white; border-radius: 12px; padding: 16px; margin: 12px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    button { background: #0088cc; color: white; border: none; padding: 12px; border-radius: 8px; width: 100%; font-size: 16px; }
    input, select { width: 100%; padding: 10px; margin: 8px 0; border: 1px solid #ddd; border-radius: 6px; }
  </style>
</head>
<body>
  <h2>üõç Urban Archive</h2>

  <div class="card">
    <h3>Jordan –°–≤–∏—Ç—à–æ—Ç (Asia Fit)</h3>
    <p>‚úÖ –û—Ä–∏–≥–∏–Ω–∞–ª, –ø—Ä–æ–≤–µ—Ä–µ–Ω –ª–∏—á–Ω–æ<br>üí∞ 8 200 ‚ÇΩ</p>
    <label>–†–∞–∑–º–µ—Ä:</label>
    <select id="size">
      <option value="S">S (44‚Äì46)</option>
      <option value="M">M (48‚Äì50)</option>
      <option value="L" selected>L (50‚Äì52)</option>
      <option value="XL">XL (52‚Äì54)</option>
    </select>
  </div>

  <div class="card">
    <h3>üì¶ –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</h3>
    <input type="text" id="address" placeholder="–ì–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –¥–æ–º, –∫–≤, –∏–Ω–¥–µ–∫—Å" value="–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, 5-–π –ü—Ä–µ–¥–ø–æ—Ä—Ç–æ–≤—ã–π –ø—Ä–æ–µ–∑–¥, –¥. 12, –∫. 1, –∫–≤. 177">
    <input type="tel" id="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω –¥–ª—è –∫—É—Ä—å–µ—Ä–∞" value="+79123456789">
    <input type="email" id="email" placeholder="Email –¥–ª—è —á–µ–∫–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
  </div>

  <button onclick="submitOrder()">‚úÖ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>

  <script>
    function submitOrder() {
      const data = {
        item: "Jordan –°–≤–∏—Ç—à–æ—Ç (Asia Fit)",
        size: document.getElementById("size").value,
        address: document.getElementById("address").value,
        phone: document.getElementById("phone").value,
        email: document.getElementById("email").value || ""
      };

      // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –∞–¥—Ä–µ—Å –≤ –ª–∞—Ç–∏–Ω–∏—Ü—É (—É–ø—Ä–æ—â—ë–Ω–Ω–æ ‚Äî –¥–ª—è Poizon)
      data.address_en = data.address
        .replace(/–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥/g, "Saint Petersburg")
        .replace(/–ú–æ—Å–∫–≤–∞/g, "Moscow")
        .replace(/—É–ª\. /g, "ul. ")
        .replace(/–¥\. /g, "d. ")
        .replace(/–∫–≤\. /g, "kv. ")
        .replace(/([–ê-–Ø–∞-—è])/g, function(m) {
          const ru = "–ê–∞–ë–±–í–≤–ì–≥–î–¥–ï–µ–Å—ë–ñ–∂–ó–∑–ò–∏–ô–π–ö–∫–õ–ª–ú–º–ù–Ω–û–æ–ü–ø–†—Ä–°—Å–¢—Ç–£—É–§—Ñ–•—Ö–¶—Ü–ß—á–®—à–©—â–™—ä–´—ã–¨—å–≠—ç–Æ—é–Ø—è";
          const en = "AaBbVvGgDdEeEeZhzhZzIiJjKkLlMmNnOoPpRrSsTtUuFfKhkhTstsChchShshSchsch''Yy''EeYuYuYaYa";
          const idx = ru.indexOf(m);
          return idx !== -1 ? en[idx] : m;
        });

      // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram-–±–æ—Ç–∞
      Telegram.WebApp.sendData(JSON.stringify(data));
      Telegram.WebApp.close();
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    Telegram.WebApp.ready();
    Telegram.WebApp.MainButton.setText("–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑");
    Telegram.WebApp.MainButton.show();
  </script>
</body>
</html>