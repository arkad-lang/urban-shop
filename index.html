<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Urban Archive</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { font-family: -apple-system, sans-serif; padding: 20px; background: #f5f5f5; }
    .card { background: white; border-radius: 12px; padding: 16px; margin: 12px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    button { background: #0088cc; color: white; border: none; padding: 12px; border-radius: 8px; width: 100%; font-size: 16px; }
    input, select { width: 100%; padding: 10px; margin: 8px 0; border: 1px solid #ddd; border-radius: 6px; }
  </style>
</head>
<body>
  <h2>üõç Urban Archive</h2>

  <!-- –¢–æ–≤–∞—Ä—ã -->
  <div class="card">
    <h3>Jordan –°–≤–∏—Ç—à–æ—Ç (Asia Fit)</h3>
    <img src="https://example.com/jordan_sweatshirt.jpg" alt="Jordan Sweatshirt" style="width:100%; border-radius: 8px; margin-bottom: 10px;">
    <p>‚úÖ –û—Ä–∏–≥–∏–Ω–∞–ª, –ø—Ä–æ–≤–µ—Ä–µ–Ω –ª–∏—á–Ω–æ<br>üí∞ 8 200 ‚ÇΩ</p>
    <label>–†–∞–∑–º–µ—Ä:</label>
    <select id="size">
      <option value="S">S (44‚Äì46)</option>
      <option value="M">M (48‚Äì50)</option>
      <option value="L" selected>L (50‚Äì52)</option>
      <option value="XL">XL (52‚Äì54)</option>
    </select>
    <button onclick="addToCart()">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
  </div>

  <h3>–ö–æ—Ä–∑–∏–Ω–∞:</h3>
  <div id="cart">
    <p>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞.</p>
  </div>

  <h3>üì¶ –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</h3>
  <input type="text" id="address" placeholder="–ì–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –¥–æ–º, –∫–≤, –∏–Ω–¥–µ–∫—Å">
  <input type="tel" id="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω –¥–ª—è –∫—É—Ä—å–µ—Ä–∞">
  <input type="email" id="email" placeholder="Email –¥–ª—è —á–µ–∫–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">

  <button onclick="submitOrder()">‚úÖ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>

  <script>
    let cart = [];

    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É
    function addToCart() {
      const item = "Jordan –°–≤–∏—Ç—à–æ—Ç (Asia Fit)";
      const size = document.getElementById("size").value;
      const price = 8200;

      cart.push({ item, size, price });

      // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
      updateCart();
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ—Ä–∑–∏–Ω—ã
    function updateCart() {
      const cartElement = document.getElementById("cart");

      if (cart.length === 0) {
        cartElement.innerHTML = "<p>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞.</p>";
      } else {
        let cartText = "<ul>";
        cart.forEach((product, index) => {
          cartText += `<li>${product.item} (${product.size}) - ${product.price} ‚ÇΩ <button onclick="removeFromCart(${index})">–£–¥–∞–ª–∏—Ç—å</button></li>`;
        });
        cartText += "</ul>";
        cartText += `<p>–ò—Ç–æ–≥–æ: ${cart.reduce((total, item) => total + item.price, 0)} ‚ÇΩ</p>`;
        cartElement.innerHTML = cartText;
      }
    }

    // –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
    function removeFromCart(index) {
      cart.splice(index, 1);
      updateCart();
    }

    // –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
    function submitOrder() {
      const data = {
        items: cart,
        address: document.getElementById("address").value,
        phone: document.getElementById("phone").value,
        email: document.getElementById("email").value || ""
      };

      // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Telegram
      Telegram.WebApp.sendData(JSON.stringify(data));
      Telegram.WebApp.close();
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    Telegram.WebApp.ready();
    Telegram.WebApp.MainButton.setText("–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑");
    Telegram.WebApp.MainButton.show();
  </script>
</body>
</html>
